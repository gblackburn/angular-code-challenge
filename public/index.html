<!DOCTYPE html>
<html>
	<html lang="en-US">
	<head>
		<title>Angular Code Challenge</title>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <script   src="https://code.jquery.com/jquery-3.1.1.min.js"   integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="   crossorigin="anonymous"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
		<meta name="viewport" content="width=device-width, initial-scale=1">
    <script type="text/javascript" src="js/myapp.js"></script>
    <style type="text/css">
      .red-text {
        color: red;
      }

      table {
        width: 100%;
      }
    </style>
	</head>
	<body>
		<div class="container" ng-app="myApp" ng-controller="dealsCtrl">
			<h1>Deal Items</h1>

      <div ng-repeat="(key, value) in groupedDeals | orderObjectBy:value[0].roundedScore:true  track by $index">
        <h2>Group <span ng-bind="value[0].roundedScore">...</span></h2>
        <table class="table table-bordered table-striped table-condensed">
          <tr>
            <th width="40%">Title</th>
            <th width="20%">Price</th>
            <th width="20%">Rounded Score</th>
            <th width="20%">Metacritic Score</th>
          </tr>
          <tr ng-repeat="x in value | orderBy: 'title' track by $index">
            <td><img src="{{x.thumb}}" width="50" class="img-rounded" /> {{x.title}}</td>
            <td><s>{{x.normalPrice|currency:"$"}}</s> <span class="red-text">{{x.salePrice|currency:"$"}}</span></td>
            <td>{{x.roundedScore}}</td>
            <td>{{x.metacriticScore}}</td>
          </tr>
        </table>
      </div>
    </div>
	</body>
</html>
