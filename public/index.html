<!DOCTYPE html>
<html>
	<html lang="en-US">
	<head>
		<title>Angular Code Challenge</title>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <script   src="https://code.jquery.com/jquery-3.1.1.min.js"   integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="   crossorigin="anonymous"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
		<meta name="viewport" content="width=device-width, initial-scale=1">
    <script type="application/javascript" src="js/myapp.js"></script>
    <style type="text/css">
      .description h3 {
        margin: 0;
        padding: 15px 15px 0 15px;
      }
      .description p {
        padding: 15px 15px 5px 15px;
      }
      .description ul {
        margin: 0 15px;
        padding: 0 15px 15px;
      }
      .red-text {
        color: red;
      }

      table {
        width: 100%;
      }
    </style>
	</head>
	<body>
		<div class="container" ng-app="myApp" ng-controller="dealsCtrl">
			<h1 class="text-center">Game Deals!</h1>
      <div class="description bg-info">
        <h3>Code Challenge Guidelines</h3>
        <p><strong>Create a page that displays the returned information using the following criteria:</strong></p>
        <ul>
          <li>Deals must be grouped by a generated <code>score</code> property
          <ul>
            <li>The <code>score</code> property must be derived from the <code>metacriticScore</code> property which has a score range of 0-100</li>
            <li>The <code>score</code> property must be rounded to the next greatest tens (96 -&gt; 100)</li>
          </ul></li>
          <li>The score groups must be listed in numerically descending order</li>
          <li>Deals must be listed with their associated group

          <ul>
            <li>Deals must be listed by their <code>title</code> property and <code>score</code> property</li>
            <li>Deals must be listed in alphabetically ascending order by <code>title</code> within their group</li>
          </ul></li>
          <li>The solution must be written entirely in javascript that is runnable by chrome (html/css are allowed of course)</li>
          <li>You must also use <code>Angular</code> to generate your views and fetch your data</li>
        </ul>
      </div>

      <div ng-repeat="(key, value) in groupedDeals | orderObjectBy:'roundedScore':true track by $index">
        <h2>Group <span ng-bind="value[0].roundedScore">...</span></h2>
        <table class="table table-bordered table-striped table-condensed">
          <tr>
            <th width="40%">Title</th>
            <th width="20%">Price</th>
            <th width="20%">Rounded Score</th>
            <th width="20%">Metacritic Score</th>
          </tr>
          <tr ng-repeat="x in value | orderBy: 'title' track by $index">
            <td><img src="{{x.thumb}}" width="50" class="img-rounded" /> {{x.title}}</td>
            <td><s>{{x.normalPrice|currency:"$"}}</s> <span class="red-text">{{x.salePrice|currency:"$"}}</span></td>
            <td>{{x.roundedScore}}</td>
            <td>{{x.metacriticScore}}</td>
          </tr>
        </table>
      </div>
    </div>
	</body>
</html>
